<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if title %}{{ title }} - {% endif %}The Developing Apologist Talks</title>
    <meta name="description" content="{% if description %}{{ description }}{% else %}Equipping Believers with Reasoned Faith — One Talk at a Time.{% endif %}">

    <script defer data-domain="developingapologist.com" src="https://plausible.io/js/script.outbound-links.js"></script>
    
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://talks.developingapologist.com">
    <meta property="og:title" content="{% if title %}{{ title }}{% else %}The Developing Apologist Talks{% endif %}">
    <meta property="og:description" content="{% if description %}{{ description }}{% else %}Equipping Believers with Reasoned Faith — One Talk at a Time.{% endif %}">
    <meta property="og:image" content="{{ ogImage or '/assets/developing-apologist-logo-v2.png' }}">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="{{ page.url | absoluteUrl }}">
    <meta name="twitter:title" content="{% if title %}{{ title }}{% else %}The Developing Apologist Talks{% endif %}">
    <meta name="twitter:description" content="{% if description %}{{ description }}{% else %}Equipping Believers with Reasoned Faith — One Talk at a Time.{% endif %}">
    <meta property="twitter:image" content="{{ ogImage or '/assets/developing-apologist-logo-v2.png' }}">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/assets/favicon.ico">
    
    <!-- CSS -->
    <link rel="stylesheet" href="https://developingapologist.com/css/styles.css">
    <link rel="stylesheet" href="/css/tailwind.css">
</head>
<body class="bg-logo-navy text-vs-fg min-h-screen">
    <!-- Site Configuration -->
    {% set logo_image = "/assets/developing-apologist-logo-v2.png" %}
    {% set logo_alt = "The Developing Apologist" %}
    {% set site_title = "The Developing Apologist" %}
    {% set site_description = "Equipping Believers with Reasoned Faith — One Talk at a Time." %}
    {% set show_wip_badge = true %}
    {% set quick_links_title = "Quick Links" %}
    {% set show_quick_links = true %}
    {% set show_resources = false %}
    {% set copyright_text = "The Developing Apologist" %}
    
    <!-- Navigation with dynamic active state -->
    {% set nav_links = [
        { href: "https://developingapologist.com/", label: "Home", active: false },
        { href: "https://developingapologist.com/about", label: "About", active: false },
        { href: "https://blog.developingapologist.com", label: "Blog", active: false },
        { href: "https://talks.developingapologist.com", label: "Presentations", active: true }
    ] %}
    
    <!-- Navigation using shared component -->
    {% include "shared/includes/components/navbar.njk" %}

    <!-- Main Content -->
    <main>
        {{ content | safe }}
    </main>

    <!-- Footer using shared component -->
    {% include "shared/includes/components/footer.njk" %}

    <!-- JavaScript -->
    <script>
        // Simple YouTube embed lazy loading
        document.addEventListener('DOMContentLoaded', function() {
            const youtubeEmbeds = document.querySelectorAll('.youtube-embed[data-src]');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const iframe = entry.target;
                        iframe.src = iframe.dataset.src;
                        iframe.removeAttribute('data-src');
                        observer.unobserve(iframe);
                    }
                });
            });
            
            youtubeEmbeds.forEach(embed => {
                observer.observe(embed);
            });
        });
    </script>
</body>
</html> 